<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kindle Eâ€‘Ink Dashboard</title>
<style>
  body {
    font-family: "Georgia", "Garamond", serif;
    background-color: #f7f5f0;
    color: #3b2f2f;
    padding: 1.5rem;
    max-width: 600px;
    margin: auto;
    line-height: 1.6;
  }

  h1, h2, h3 {
    font-family: "Garamond", serif;
    text-align: center;
    color: #4a3b3b;
  }

  .section {
    background: #fffaf3;
    border: 2px solid #e5dccb;
    margin: 1.2rem 0;
    padding: 1rem;
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  }

  button {
    width: 100%;
    margin-top: 0.5rem;
    padding: 0.6rem;
    border-radius: 10px;
    border: none;
    background: #e8e0d1;
    font-family: inherit;
    font-size: 1rem;
  }

  #output {
    margin-top: 0.8rem;
    padding: 0.8rem;
    background: #fdfaf5;
    border-radius: 8px;
    border: 1px solid #ded6c5;
    min-height: 2rem;
  }
</style>
</head>
<body>
  <h1>Kindle Dashboard</h1>

  <div class="menu">
    <a class="btn" href="#weather">Weather</a>
    <a class="btn" href="#notes">Quick Notes</a>
    <a class="btn" href="#timer">Timer</a>
    <a class="btn" href="#sound">Sound Player</a>
  </div>

  <!-- WEATHER -->
  <div id="weather" class="section">
    <h2>Weather</h2>
    <div class="card" id="weatherBox">Loading weather...</div>
  </div>

  <!-- NOTES -->
  <div id="notes" class="section">
    <h2>Quick Notes</h2>
    <textarea id="noteArea" style="width:100%;height:120px;font-size:16px;border:1px solid #000;"></textarea>
    <button onclick="saveNote()">Save</button>
    <div id="noteSavedMsg"></div>
  </div>

  <!-- TIMER -->
  <div id="timer" class="section">
    <h2>Simple Timer</h2>
    <input id="timerMinutes" type="number" min="1" placeholder="Minutes" />
    <button onclick="startTimer()">Start</button>
    <div id="timerOutput"></div>
  </div>

  <!-- SOUNDPLAYER -->
  <div id="sound" class="section">
    <h2>Ambient Sound</h2>
    <audio id="player" controls>
      <source src="sound.mp3" type="audio/mpeg">
    </audio>
    <p>Load your own MP3 named <b>sound.mp3</b> in the same folder.</p>
  </div>

<script>
  /* WEATHER (simple, no API key needed demo) */
  document.getElementById("weatherBox").innerText = "Clear â€¢ 72Â°F";

  /* NOTES */
  const noteArea = document.getElementById("noteArea");
  const saved = localStorage.getItem("kindleNote");
  if (saved) noteArea.value = saved;

  function saveNote(){
    localStorage.setItem("kindleNote", noteArea.value);
    document.getElementById("noteSavedMsg").innerText = "Saved.";
  }

  /* TIMER */
  let timerInterval;
  function startTimer(){
    clearInterval(timerInterval);
    const min = parseInt(document.getElementById("timerMinutes").value);
    if (!min) return;
    let sec = min * 60;

    timerInterval = setInterval(()=>{
      sec--;
      if(sec <= 0){ clearInterval(timerInterval); }
      document.getElementById("timerOutput").innerText = `Time left: ${Math.floor(sec/60)}:${(sec%60).toString().padStart(2,'0')}`;
    },1000);
  }
</script>
  <script>
    // Initialize button interactions (existing features still alive)

    // Replace content with an aesthetic "loot drop" when button clicked
    function lootDrop() {
      const screen = document.getElementById('screen');
      const loot = [
        'ğŸ“¦ You found: A perfectly annotated PDF of your favorite book',
        'ğŸŒ¿ You unlocked: A moss terrarium recipe card',
        'âœ¨ Achievement: 24 hours of steady focus energy',
        'ğŸ“š Bonus drop: A new cozy game rec hidden under your pillow',
        'ğŸ•¯ï¸ You receive: The soft glow of a candle that smells exactly like your childhood winter breaks'
      ];
      const randomLoot = loot[Math.floor(Math.random() * loot.length)];
      screen.innerHTML = `<p>${randomLoot}</p>`;
    }

    // Transform screen into a calm breathing exercise
    function breathingGuide() {
      const screen = document.getElementById("screen");
      screen.innerHTML = '<p>ğŸŒ¬ï¸ Inhale... hold... exhale... let it go.</p>';
    }

    // Random cozy prophecy generator
    function prophecy() {
      const screen = document.getElementById('screen');
      const messages = [
        'ğŸ”® A gentle day is approaching you â€” softer than you expect.',
        'ğŸµ You will soon meet a small delight that feels bigger than it is.',
        'ğŸ“– A story waiting on your shelf wants to soothe your brain today.',
        'ğŸŒ§ï¸ Rain will mean something different to you this week â€” watch for it.',
        'ğŸª„ Youâ€™re about to remember a part of yourself you didnâ€™t realize you missed.'
      ];
      const msg = messages[Math.floor(Math.random() * messages.length)];
      screen.innerHTML = `<p>${msg}</p>`;
    }
  </script>
</body>
</html>
