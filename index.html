<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kindle E-Ink Dashboard</title>
<style>
  body {
    font-family: "Georgia", "Garamond", serif;
    background-color: #f7f5f0;
    color: #3b2f2f;
    padding: 1.5rem;
    max-width: 600px;
    margin: auto;
    line-height: 1.6;
    text-align: center;
  }

  h1, h2, h3 {
    font-family: "Garamond", serif;
    color: #4a3b3b;
  }

  .section {
    background: #fffaf3;
    border: 2px solid #e5dccb;
    margin: 1.2rem 0;
    padding: 1rem;
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  }

  button {
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: none;
    background: #e8e0d1;
    font-family: inherit;
    font-size: 1rem;
    margin: 0.2rem;
    cursor: pointer;
  }

  #screen {
    margin-top: 0.8rem;
    padding: 1rem;
    background: #fdfaf5;
    border-radius: 8px;
    border: 1px solid #ded6c5;
    min-height: 2rem;
    display: inline-block;
  }

  .decor-top, .decor-bottom {
    font-size: 1.4rem;
    opacity: 0.6;
    margin: 0.5rem 0;
  }

  .divider {
    text-align: center;
    font-size: 1rem;
    letter-spacing: 4px;
    opacity: 0.4;
    margin: 1rem 0;
  }

  /* Candle-style borders */
  .section {
    border: 2px solid #e5dccb;
    border-image: repeating-linear-gradient(
      to bottom,
      #e5dccb,
      #e5dccb 6px,
      #f7f5f0 6px,
      #f7f5f0 12px
    ) 1;
  }

  /* Drop caps */
  .dropcap:first-letter {
    font-size: 2.4rem;
    float: left;
    padding-right: 6px;
    padding-top: 2px;
    font-family: "Garamond", serif;
    color: #4a3b3b;
  }

  /* Moon phase headers */
  .moon-header::before {
    content: "ðŸŒ‘ ðŸŒ’ ðŸŒ“ ðŸŒ” ðŸŒ•";
    display: block;
    text-align: center;
    opacity: 0.5;
    margin-bottom: 0.4rem;
  }

  /* Glyph sparkles in background */
  .glyph, .sparkle {
    position: absolute;
    font-size: 0.8rem;
    opacity: 0.15;
  }

  /* Dark mode */
  body.dark {
    background-color: #1a1a1a;
    color: #ffffff;
  }

  body.dark h1, body.dark h2, body.dark h3 {
    color: #ffffff;
  }

  body.dark .section {
    background: #2a2a2a;
    border-color: #555;
  }

  body.dark button {
    background: #3a3a3a;
    color: #ffffff;
  }

  body.dark #screen {
    background: #222;
    color: #ffffff;
  }

  body.dark .glyph, body.dark .sparkle {
    color: #ffffff;
    opacity: 0.15;
  }

  /* Input grid for puzzles */
  .puzzle-grid {
    display: inline-grid;
    grid-gap: 0.2rem;
    justify-content: center;
    margin: 0.5rem auto;
  }

  .puzzle-input {
    width: 2rem;
    height: 2rem;
    text-align: center;
    font-size: 1.2rem;
    border: 1px solid #aaa;
  }

  /* Links section */
  .links a {
    display: block;
    margin: 0.3rem 0;
    text-decoration: none;
    color: inherit;
  }
</style>
</head>
<body>
<div class="decor-top glyph">âœ¦ âœ§ âœ¦</div>
<div class="divider"></div>

<h1>Kindle Dashboard</h1>

<div class="links section">
  <h2>Links</h2>
  <a href="https://www.wikipedia.org" target="_blank">Wikipedia</a>
  <a href="https://www.old.reddit.com" target="_blank">Old Reddit</a>
  <a href="https://archiveofourown.org" target="_blank">Archive of Our Own</a>
  <a href="https://www.dictionary.com" target="_blank">Dictionary.com</a>
  <a href="https://www.thesaurus.com" target="_blank">Thesaurus.com</a>
</div>

<h2>Cozy Puzzle Menu</h2>
<div class="section">
  <button onclick="showPuzzle('wordle')">Wordle</button>
  <button onclick="showPuzzle('crossword')">Crossword</button>
  <button onclick="showPuzzle('connections')">Connections</button>
  <button onclick="showPuzzle('wordsearch')">Word Search</button>
  <button onclick="showPuzzle('sudoku')">Sudoku</button>
</div>

<div id="screen" class="section">âœ¦ Tap a puzzle above to begin âœ¦</div>

<div class="divider"></div>
<div class="decor-bottom glyph">âœ¦ âœ§ âœ¦</div>

<script>
const toggle = document.createElement('button');
toggle.innerText = "Toggle Dark Mode";
document.body.appendChild(toggle);
toggle.onclick = ()=>document.body.classList.toggle('dark');

/* --- UNIVERSAL INPUT GRID --- */
function renderGrid(rows, cols = rows) {
  const container = document.createElement('div');
  container.className = 'puzzle-grid';
  container.style.gridTemplateColumns = `repeat(${cols}, 2rem)`;
  const inputs = [];
  for(let r=0;r<rows;r++){
    for(let c=0;c<cols;c++){
      const input = document.createElement('input');
      input.maxLength = 1;
      input.className = 'puzzle-input';
      input.addEventListener('input', e=>{
        const idx = inputs.indexOf(input);
        if(idx<inputs.length-1) inputs[idx+1].focus();
      });
      container.appendChild(input);
      inputs.push(input);
    }
  }
  return container;
}

/* --- RANDOM WORD GENERATION --- */
function randomWord(len) {
  const letters = 'abcdefghijklmnopqrstuvwxyz';
  let word = '';
  for(let i=0;i<len;i++){
    word += letters[Math.floor(Math.random()*26)];
  }
  return word;
}

/* --- PUZZLE GENERATORS --- */
function generateWordle() {
  return randomWord(5);
}

function generateCrossword() {
  const words = [];
  for(let i=0;i<5;i++) words.push(randomWord(5).toUpperCase());
  return words;
}

function generateConnections() {
  const sets = [
    ["APPLE","PEAR","PLUM","BERRY"],
    ["MUG","BOOK","SOCKS","BLANKET"],
    ["MOSS","LEAF","STONE","STREAM"],
    ["MOON","STAR","CLOUD","DAWN"]
  ];
  return sets[Math.floor(Math.random()*sets.length)];
}

function generateWordSearch() {
  const grid = Array.from({length:10},()=>Array.from({length:10},()=>String.fromCharCode(65+Math.floor(Math.random()*26))));
  return {words:[randomWord(3).toUpperCase(),randomWord(4).toUpperCase(),randomWord(5).toUpperCase(),randomWord(5).toUpperCase(),randomWord(4).toUpperCase()], grid};
}

function generateSudoku() {
  const boards = [
    [
      [5,3,0,0,7,0,0,0,0],
      [6,0,0,1,9,5,0,0,0],
      [0,9,8,0,0,0,0,6,0],
      [8,0,0,0,6,0,0,0,3],
      [4,0,0,8,0,3,0,0,1],
      [7,0,0,0,2,0,0,0,6],
      [0,6,0,0,0,0,2,8,0],
      [0,0,0,4,1,9,0,0,5],
      [0,0,0,0,8,0,0,7,9]
    ]
  ];
  return boards[Math.floor(Math.random()*boards.length)];
}

/* --- SHOW PUZZLE --- */
function showPuzzle(type){
  const screen = document.getElementById('screen');
  screen.innerHTML = '';
  let puzzleContainer;
  if(type==='wordle'){
    puzzleContainer = renderGrid(6,5);
  } else if(type==='crossword'){
    const words = generateCrossword();
    puzzleContainer = renderGrid(words.length, words[0].length);
  } else if(type==='connections'){
    puzzleContainer = renderGrid(4,4);
  } else if(type==='wordsearch'){
    puzzleContainer = renderGrid(10,10);
    const ws = generateWordSearch();
    const wordsDiv = document.createElement('div');
    wordsDiv.innerText = 'Words: ' + ws.words.join(', ');
    screen.appendChild(wordsDiv);
  } else if(type==='sudoku'){
    puzzleContainer = renderGrid(9,9);
  }
  if(puzzleContainer) screen.appendChild(puzzleContainer);

  // Add fullscreen and reset buttons
  const fullscreenBtn = document.createElement('button');
  fullscreenBtn.innerText = 'Fullscreen';
  fullscreenBtn.onclick = ()=>puzzleContainer.requestFullscreen();
  screen.appendChild(fullscreenBtn);

  const resetBtn = document.createElement('button');
  resetBtn.innerText = 'Reset';
  resetBtn.onclick = ()=>showPuzzle(type);
  screen.appendChild(resetBtn);
}
</script>
</body>
</html>

